{% extends "base/base_dashboard.html" %}

{% block content %}
    <div class="container px-4 py-5 mt-5">
        <div class="col-12 col-md-6 mx-auto">
            {% with messages = get_flashed_messages(with_categories=true) %}
                {% if messages %}
                    {% for category, message in messages %}
                        <div class="alert alert-{{ category }}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            {% endwith %}
            <h4 class="fw-bold lh-1 mb-3">Confirm your delivery</h4>
            <div class="bg-light rounded px-3 py-2 mb-3">
                <div class="row py-3">
                    <div class="col col-12 col-md-4 my-auto">
                        <h5>From</h5>
                    </div>
                    <div class="col col-12 col-md-8">
                        <p class="mb-0">{{ from_locker }}</p>
                    </div>
                </div>
                <div class="row border-top py-3">
                    <div class="col col-12 col-md-4 my-auto">
                        <h5>To</h5>
                    </div>
                    <div class="col col-12 col-md-8">
                        <p class="mb-0">{{ to_locker }}</p>
                    </div>
                </div>
                <div class="row border-top py-3">
                    <div class="col col-12 col-md-4 my-auto">
                        <h5>Dimension</h5>
                    </div>
                    <div class="col col-12 col-md-8">
                        <p class="mb-0">{{ text_dimension }}</p>
                    </div>
                </div>
                <div class="row border-top py-3">
                    <div class="col col-12 col-md-4 my-auto">
                        <h5>Weight</h5>
                    </div>
                    <div class="col col-12 col-md-8">
                        <p class="mb-0">{{ form.weight.data }} kg</p>
                    </div>
                </div>
                <div class="row border-top py-3">
                    <div class="col col-12 col-md-4 my-auto">
                        <h5>Distance</h5>
                    </div>
                    <div class="col col-12 col-md-8">
                        <p class="mb-0">{{ distance }}</p>
                    </div>
                </div>
                <div class="row border-top py-3">
                    <div class="col col-12 col-md-4 my-auto">
                        <h5>Price</h5>
                    </div>
                    <div class="col col-12 col-md-8">
                        <p class="mb-0 fw-bold">{{ price }}</p>
                    </div>
                </div>
            </div>
            <form class="p-1 p-md-1 mb-3" method="POST" action="{{ url_for('delivery.confirm') }}">
                <p>Add the email of your recipient, so that we can keep him updated.</p>
                <div class="form-floating">
                    {{ form.email_recipient(class="form-control form-control-lg mb-3 rounded-pill px-4", placeholder="Recipient email") }}
                    {{ form.email_recipient.label(class="px-4") }}
                </div>
                {{ form.hidden_tag() }}
                {{ form.submit(class="w-100 btn btn-lg btn-success rounded-pill") }}
            </form>
        </div>
    </div>
{% endblock %}